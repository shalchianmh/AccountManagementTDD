# مدیریت حساب بانکی

<div dir="rtl">

## پرسش اول
مشکل اصلی این است که در حال حاضر تراکنش‌ها می‌توانند باعث منفی شدن موجودی حساب شوند و برنامه بدون هیچ خطایی مقدار منفی را به‌عنوان موجودی بازمی‌گرداند.
این رفتار نادرست است و باید در صورت منفی شدن موجودی، خطایی مانند `IllegalArgumentException` پرتاب شود.
احتمالاً دلیل دیده‌نشدن این مشکل آن است که تست‌ها پس از نوشتن کد نوشته شده‌اند و فقط سناریوهای مثبت را پوشش داده‌اند.

## پرسش دوم

آزمون:
کافی است آزمونی بنویسیم که در صورت منفی شدن موجودی حساب `IllegalArgumentException` باید پرتاب شود.<br>
![آزمون](temp/test.png)<br>
به خطا خوردن آزمون:<br>
طبیعتا آزمون شکست میخورد<br>
![شکست آزمون](temp/test_failed.png)<br>
اصلاح کد:<br>
![کد جدید](temp/code.png)<br>
موفقیت آزمون:
![موفقیت آزمون](temp/test_pass.png)<br>

## پرسش سوم
نوشتن تست پس از کد می‌تواند باعث شود که فقط موارد واضح و مثبت پوشش داده شوند و سناریوهای لبه‌ای یا خطاهای منطقی نادیده بمانند.
همچنین افزودن تست جدید ممکن است نیازمند تغییراتی در کد باشد، و اگر این تغییرات بدون پشتیبانی تستی کافی انجام شوند، احتمال بروز باگ‌های کشف‌نشده افزایش می‌یابد.
علاوه بر این، نوشتن تست بدون درک جامع از رفتار سیستم می‌تواند به ایجاد تناقض بین تست‌ها و ابهام در منطق برنامه منجر شود.

## پرسش چهارم
نوشتن تست پیش از کد باعث می‌شود که از ابتدا بدانیم کد باید چه رفتاری داشته باشد. این موضوع به شفاف شدن هدف کدنویسی کمک می‌کند؛ مشابه حالتی که پاسخ نهایی یک مسئله داده شده و باید فقط راه رسیدن به آن را نوشت.
مزیت دیگر این رویکرد، تقسیم‌بندی طبیعی کد به بخش‌های کوچک و مستقل است که از متدهای طولانی و پیچیده جلوگیری می‌کند. این ساختار، نگهداری و توسعه کد را ساده‌تر می‌سازد.

## پرسش پنجم
نوشتن تست قبل از نوشتن کد سبب می‌شود که کمی فرایند کدزنی طولانی شود و شاید این یکی از معایب این روش باشد. ممکن است سناریو های بسیار پیچیده ای برای تست ها نوشته شود که سبب شود زدن کد بسیار پیچیده شود. اما مزایای آن قابل توجه‌اند:
  - برنامه‌نویس مسیر روشن‌تری برای پیاده‌سازی دارد.
  - باگ‌ها به‌سرعت شناسایی و رفع می‌شوند.
  - کد ساختارمندتر، ماژولارتر و تست‌پذیرتر خواهد بود.
  - وابستگی‌ها بین بخش‌های مختلف کاهش می‌یابد که توسعه آینده را تسهیل می‌کند.
